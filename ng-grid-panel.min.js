angular.module("ngGridPanel",["ngAnimate"]).directive("gridPanel",["$animate","$compile",function(a,b){return{restrict:"AE",compile:function(c,d){function m(){var a=c.find("grid-panel-item, .grid-panel-item").clone();if(!a.length)throw new Error("grid-panel-item template must be set");return a}function n(){var a=c.find("grid-panel-content, .grid-panel-content").clone();if(!a.length)throw new Error("grid-panel-content template must be set");return a}var e=m(),f=n();if(!d.repeat)throw new Error("repeat attribute must be set");var g=d.repeat.match(/\s?(.*)\sin\s(.*)\s?/);if(!g||g.length<3)throw new Error('repeat attribute must be set like repeat="item in items"');var j,k,l,h=g[1],i=g[2];return{pre:function(c,d){function g(){c.$watchCollection(i,m)}function m(f){d.empty();for(var g=0,i=f.length;i>g;g++){var j=c.$new(),k=f[g];j[h]=k;var l=e.clone();l.addClass("grid-panel-item-"+g).on("click",function(a,b,c){return function(){n(a,b,c)}}(g,k,i)),a.enter(l,d),b(l)(j)}}function n(e,g,i){function q(a){var b=d.innerWidth(),c=a.outerWidth(!0);return Math.floor(b/c)}function r(){k=p;var e=d.find(".grid-panel-item-"+p);j&&a.leave(j),l&&l.$destroy(),l=c.$new(),l[h]=g,j=f.clone(),a.enter(j,null,e),b(j)(l),l.$digest()}function s(){l[h]=g,l.$digest()}var m=d.find(".grid-panel-item-"+e),n=q(m),o=e%n,p=n-o-1+e;p>=i&&(p=i-1),j&&k===p?s():r()}angular.extend(c,{onGridItemClick:n}),g()}}}}}]);